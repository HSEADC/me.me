/******/ (() => { // webpackBootstrap
/******/ 	var __webpack_modules__ = ({

/***/ 4:
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
module.exports = __webpack_require__.p + "images/46d4cddaac0dda5fef3e.webp";

/***/ }),

/***/ 15:
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
module.exports = __webpack_require__.p + "images/b4726add72d5546d1be7.webp";

/***/ }),

/***/ 67:
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
module.exports = __webpack_require__.p + "images/169c5be5ec9ff73335d1.webp";

/***/ }),

/***/ 80:
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
module.exports = __webpack_require__.p + "images/c30347ab245348b08fd9.webp";

/***/ }),

/***/ 146:
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
module.exports = __webpack_require__.p + "images/4d65d2788ae1c465a769.webp";

/***/ }),

/***/ 147:
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
module.exports = __webpack_require__.p + "images/d9c1688f5796353a0b20.webp";

/***/ }),

/***/ 189:
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
module.exports = __webpack_require__.p + "images/1ef3cf4cea7bd0cd41ff.webp";

/***/ }),

/***/ 194:
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
module.exports = __webpack_require__.p + "images/c3a90f0fa504906e461b.webp";

/***/ }),

/***/ 199:
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
module.exports = __webpack_require__.p + "images/0af5c429f9380874d282.webp";

/***/ }),

/***/ 232:
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
module.exports = __webpack_require__.p + "images/58ee2735088faf74190c.webp";

/***/ }),

/***/ 265:
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
module.exports = __webpack_require__.p + "images/0e7c8351799413ab1148.webp";

/***/ }),

/***/ 274:
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
module.exports = __webpack_require__.p + "images/c7ae1b69f01e1eeb958e.webp";

/***/ }),

/***/ 298:
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
module.exports = __webpack_require__.p + "images/00686d923b9dd80e272e.webp";

/***/ }),

/***/ 316:
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
module.exports = __webpack_require__.p + "images/67e948bfe3fb48d96594.webp";

/***/ }),

/***/ 317:
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
module.exports = __webpack_require__.p + "images/187fec3ce21f2f26f40c.webp";

/***/ }),

/***/ 338:
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
module.exports = __webpack_require__.p + "images/e4f40eedbab1bd8fe12e.webp";

/***/ }),

/***/ 347:
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
module.exports = __webpack_require__.p + "images/f33f1d09e2e1d905f5ee.webp";

/***/ }),

/***/ 361:
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
module.exports = __webpack_require__.p + "images/9a937d42465508a573b4.webp";

/***/ }),

/***/ 423:
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
module.exports = __webpack_require__.p + "images/c04528c13c546d2bcad3.webp";

/***/ }),

/***/ 436:
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
module.exports = __webpack_require__.p + "images/be56c02c2835eb7f74bd.webp";

/***/ }),

/***/ 545:
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
module.exports = __webpack_require__.p + "images/147e5eb6b6a87ce469eb.webp";

/***/ }),

/***/ 558:
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
module.exports = __webpack_require__.p + "images/2e667089dc2b58eb9689.webp";

/***/ }),

/***/ 567:
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
module.exports = __webpack_require__.p + "images/e22bfc82b22d72630f51.webp";

/***/ }),

/***/ 585:
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
module.exports = __webpack_require__.p + "images/680fe231e24ccc5e7459.webp";

/***/ }),

/***/ 618:
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
module.exports = __webpack_require__.p + "images/b82f404b0177bbfa24a1.webp";

/***/ }),

/***/ 635:
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
module.exports = __webpack_require__.p + "images/9a4aa39cd6f03250d97e.webp";

/***/ }),

/***/ 645:
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
module.exports = __webpack_require__.p + "images/6ff99f6fc83213491486.webp";

/***/ }),

/***/ 648:
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
module.exports = __webpack_require__.p + "images/a19aa7a58fbab418ac4a.webp";

/***/ }),

/***/ 670:
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
module.exports = __webpack_require__.p + "images/7aebc5e67aae24575152.webp";

/***/ }),

/***/ 696:
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
module.exports = __webpack_require__.p + "images/1e1cd03c279947027921.webp";

/***/ }),

/***/ 716:
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
module.exports = __webpack_require__.p + "images/096d0564d34e544f4647.webp";

/***/ }),

/***/ 720:
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
module.exports = __webpack_require__.p + "images/ddc6ffee45d12dffecd5.webp";

/***/ }),

/***/ 747:
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
module.exports = __webpack_require__.p + "images/3b5ee8a45b52ba8863f8.webp";

/***/ }),

/***/ 797:
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
module.exports = __webpack_require__.p + "images/304938f25adf5fb64a0d.webp";

/***/ }),

/***/ 825:
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
module.exports = __webpack_require__.p + "images/4f4ac6fd268a7b1d19a4.webp";

/***/ }),

/***/ 840:
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
module.exports = __webpack_require__.p + "images/dcce4dbb903c586dc798.webp";

/***/ }),

/***/ 843:
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
module.exports = __webpack_require__.p + "images/be855f9bfbf7bfe8c10f.webp";

/***/ }),

/***/ 851:
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
module.exports = __webpack_require__.p + "images/c4fd0cc778383d77722c.webp";

/***/ }),

/***/ 901:
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
module.exports = __webpack_require__.p + "images/12f357fcc2603edef08d.webp";

/***/ }),

/***/ 903:
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var map = {
	"./rnd-1.webp": 925,
	"./rnd-10.webp": 147,
	"./rnd-11.webp": 696,
	"./rnd-12.webp": 797,
	"./rnd-13.webp": 298,
	"./rnd-14.webp": 15,
	"./rnd-15.webp": 4,
	"./rnd-16.webp": 265,
	"./rnd-17.webp": 990,
	"./rnd-18.webp": 995,
	"./rnd-19.webp": 232,
	"./rnd-2.webp": 648,
	"./rnd-20.webp": 851,
	"./rnd-21.webp": 635,
	"./rnd-22.webp": 338,
	"./rnd-23.webp": 901,
	"./rnd-24.webp": 972,
	"./rnd-25.webp": 567,
	"./rnd-26.webp": 926,
	"./rnd-27.webp": 361,
	"./rnd-28.webp": 840,
	"./rnd-29.webp": 747,
	"./rnd-3.webp": 347,
	"./rnd-30.webp": 909,
	"./rnd-31.webp": 194,
	"./rnd-32.webp": 843,
	"./rnd-33.webp": 80,
	"./rnd-34.webp": 585,
	"./rnd-35.webp": 558,
	"./rnd-36.webp": 199,
	"./rnd-37.webp": 316,
	"./rnd-38.webp": 317,
	"./rnd-39.webp": 146,
	"./rnd-4.webp": 950,
	"./rnd-40.webp": 618,
	"./rnd-41.webp": 645,
	"./rnd-42.webp": 720,
	"./rnd-43.webp": 67,
	"./rnd-44.webp": 670,
	"./rnd-45.webp": 545,
	"./rnd-46.webp": 436,
	"./rnd-5.webp": 825,
	"./rnd-6.webp": 716,
	"./rnd-7.webp": 423,
	"./rnd-8.webp": 274,
	"./rnd-9.webp": 189
};


function webpackContext(req) {
	var id = webpackContextResolve(req);
	return __webpack_require__(id);
}
function webpackContextResolve(req) {
	if(!__webpack_require__.o(map, req)) {
		var e = new Error("Cannot find module '" + req + "'");
		e.code = 'MODULE_NOT_FOUND';
		throw e;
	}
	return map[req];
}
webpackContext.keys = function webpackContextKeys() {
	return Object.keys(map);
};
webpackContext.resolve = webpackContextResolve;
module.exports = webpackContext;
webpackContext.id = 903;

/***/ }),

/***/ 909:
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
module.exports = __webpack_require__.p + "images/b3d727098f18a825a619.webp";

/***/ }),

/***/ 925:
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
module.exports = __webpack_require__.p + "images/97c2847edfd4203c15a4.webp";

/***/ }),

/***/ 926:
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
module.exports = __webpack_require__.p + "images/492d35fb0e4aecff28e5.webp";

/***/ }),

/***/ 950:
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
module.exports = __webpack_require__.p + "images/25503d92acfef3233bf3.webp";

/***/ }),

/***/ 972:
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
module.exports = __webpack_require__.p + "images/4bc0c06476981aae7cc7.webp";

/***/ }),

/***/ 990:
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
module.exports = __webpack_require__.p + "images/a4e52ca7aa113b6a84e4.webp";

/***/ }),

/***/ 995:
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
module.exports = __webpack_require__.p + "images/c018316fccf9016d65cb.webp";

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/global */
/******/ 	(() => {
/******/ 		__webpack_require__.g = (function() {
/******/ 			if (typeof globalThis === 'object') return globalThis;
/******/ 			try {
/******/ 				return this || new Function('return this')();
/******/ 			} catch (e) {
/******/ 				if (typeof window === 'object') return window;
/******/ 			}
/******/ 		})();
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/publicPath */
/******/ 	(() => {
/******/ 		var scriptUrl;
/******/ 		if (__webpack_require__.g.importScripts) scriptUrl = __webpack_require__.g.location + "";
/******/ 		var document = __webpack_require__.g.document;
/******/ 		if (!scriptUrl && document) {
/******/ 			if (document.currentScript && document.currentScript.tagName.toUpperCase() === 'SCRIPT')
/******/ 				scriptUrl = document.currentScript.src;
/******/ 			if (!scriptUrl) {
/******/ 				var scripts = document.getElementsByTagName("script");
/******/ 				if(scripts.length) {
/******/ 					var i = scripts.length - 1;
/******/ 					while (i > -1 && (!scriptUrl || !/^http(s?):/.test(scriptUrl))) scriptUrl = scripts[i--].src;
/******/ 				}
/******/ 			}
/******/ 		}
/******/ 		// When supporting browsers where an automatic publicPath is not supported you must specify an output.publicPath manually via configuration
/******/ 		// or pass an empty string ("") and set the __webpack_public_path__ variable from your code to use your own logic.
/******/ 		if (!scriptUrl) throw new Error("Automatic publicPath is not supported in this browser");
/******/ 		scriptUrl = scriptUrl.replace(/^blob:/, "").replace(/#.*$/, "").replace(/\?.*$/, "").replace(/\/[^\/]+$/, "/");
/******/ 		__webpack_require__.p = scriptUrl;
/******/ 	})();
/******/ 	
/************************************************************************/
// This entry needs to be wrapped in an IIFE because it needs to be in strict mode.
(() => {
"use strict";
function _regenerator() { /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */ var e, t, r = "function" == typeof Symbol ? Symbol : {}, n = r.iterator || "@@iterator", o = r.toStringTag || "@@toStringTag"; function i(r, n, o, i) { var c = n && n.prototype instanceof Generator ? n : Generator, u = Object.create(c.prototype); return _regeneratorDefine2(u, "_invoke", function (r, n, o) { var i, c, u, f = 0, p = o || [], y = !1, G = { p: 0, n: 0, v: e, a: d, f: d.bind(e, 4), d: function d(t, r) { return i = t, c = 0, u = e, G.n = r, a; } }; function d(r, n) { for (c = r, u = n, t = 0; !y && f && !o && t < p.length; t++) { var o, i = p[t], d = G.p, l = i[2]; r > 3 ? (o = l === n) && (u = i[(c = i[4]) ? 5 : (c = 3, 3)], i[4] = i[5] = e) : i[0] <= d && ((o = r < 2 && d < i[1]) ? (c = 0, G.v = n, G.n = i[1]) : d < l && (o = r < 3 || i[0] > n || n > l) && (i[4] = r, i[5] = n, G.n = l, c = 0)); } if (o || r > 1) return a; throw y = !0, n; } return function (o, p, l) { if (f > 1) throw TypeError("Generator is already running"); for (y && 1 === p && d(p, l), c = p, u = l; (t = c < 2 ? e : u) || !y;) { i || (c ? c < 3 ? (c > 1 && (G.n = -1), d(c, u)) : G.n = u : G.v = u); try { if (f = 2, i) { if (c || (o = "next"), t = i[o]) { if (!(t = t.call(i, u))) throw TypeError("iterator result is not an object"); if (!t.done) return t; u = t.value, c < 2 && (c = 0); } else 1 === c && (t = i["return"]) && t.call(i), c < 2 && (u = TypeError("The iterator does not provide a '" + o + "' method"), c = 1); i = e; } else if ((t = (y = G.n < 0) ? u : r.call(n, G)) !== a) break; } catch (t) { i = e, c = 1, u = t; } finally { f = 1; } } return { value: t, done: y }; }; }(r, o, i), !0), u; } var a = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} t = Object.getPrototypeOf; var c = [][n] ? t(t([][n]())) : (_regeneratorDefine2(t = {}, n, function () { return this; }), t), u = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(c); function f(e) { return Object.setPrototypeOf ? Object.setPrototypeOf(e, GeneratorFunctionPrototype) : (e.__proto__ = GeneratorFunctionPrototype, _regeneratorDefine2(e, o, "GeneratorFunction")), e.prototype = Object.create(u), e; } return GeneratorFunction.prototype = GeneratorFunctionPrototype, _regeneratorDefine2(u, "constructor", GeneratorFunctionPrototype), _regeneratorDefine2(GeneratorFunctionPrototype, "constructor", GeneratorFunction), GeneratorFunction.displayName = "GeneratorFunction", _regeneratorDefine2(GeneratorFunctionPrototype, o, "GeneratorFunction"), _regeneratorDefine2(u), _regeneratorDefine2(u, o, "Generator"), _regeneratorDefine2(u, n, function () { return this; }), _regeneratorDefine2(u, "toString", function () { return "[object Generator]"; }), (_regenerator = function _regenerator() { return { w: i, m: f }; })(); }
function _regeneratorDefine2(e, r, n, t) { var i = Object.defineProperty; try { i({}, "", {}); } catch (e) { i = 0; } _regeneratorDefine2 = function _regeneratorDefine(e, r, n, t) { function o(r, n) { _regeneratorDefine2(e, r, function (e) { return this._invoke(r, n, e); }); } r ? i ? i(e, r, { value: n, enumerable: !t, configurable: !t, writable: !t }) : e[r] = n : (o("next", 0), o("throw", 1), o("return", 2)); }, _regeneratorDefine2(e, r, n, t); }
function asyncGeneratorStep(n, t, e, r, o, a, c) { try { var i = n[a](c), u = i.value; } catch (n) { return void e(n); } i.done ? t(u) : Promise.resolve(u).then(r, o); }
function _asyncToGenerator(n) { return function () { var t = this, e = arguments; return new Promise(function (r, o) { var a = n.apply(t, e); function _next(n) { asyncGeneratorStep(a, r, o, _next, _throw, "next", n); } function _throw(n) { asyncGeneratorStep(a, r, o, _next, _throw, "throw", n); } _next(void 0); }); }; }


// белый шум на фоне

var canvas = document.getElementById("noise");
var ctx = canvas.getContext("2d");
function resizeCanvas() {
  canvas.width = window.innerWidth;
  canvas.height = window.innerHeight;
}
resizeCanvas();
window.addEventListener("resize", resizeCanvas);
function drawNoiseFrame() {
  var w = canvas.width;
  var h = canvas.height;
  var imageData = ctx.createImageData(w, h);
  var buffer = imageData.data;
  for (var i = 0; i < buffer.length; i += 4) {
    var shade = 120 + Math.random() * 130;
    buffer[i] = shade;
    buffer[i + 1] = shade;
    buffer[i + 2] = shade;
    buffer[i + 3] = 200;
  }
  ctx.putImageData(imageData, 0, 0);
}
var lastFrameTime = 0;
function animate(time) {
  if (time - lastFrameTime > 60) {
    drawNoiseFrame();
    lastFrameTime = time;
  }
  requestAnimationFrame(animate);
}
drawNoiseFrame();
requestAnimationFrame(animate);

// обводка на типографике

document.querySelectorAll(".txt, .hd, .nv").forEach(function (el) {
  el.setAttribute("data-text", el.textContent.trim());
});

// эх конструктор эх мемов эх

document.addEventListener("DOMContentLoaded", function () {
  var canvas = document.getElementById("mbCanvas");
  if (!canvas) return;
  var ctx = canvas.getContext("2d");
  var uploadBtn = document.getElementById("mbUploadBtn");
  var fileInput = document.getElementById("mbFile");
  var textEl = document.getElementById("mbText");
  var downloadBtn = document.getElementById("mbDownloadBtn");
  var presetsWrap = document.querySelector(".mb-presets");
  var presetItems = presetsWrap ? Array.from(presetsWrap.querySelectorAll(".mb-preset")) : [];
  var W = canvas.width;
  var H = canvas.height;
  var FONT = "900 64px Arial Black, Arial, sans-serif";
  var PAD_X = Math.round(W * 0.08);
  var MAX_W = W - PAD_X * 2;
  var TOP_Y = Math.round(H * 0.12);
  var BOTTOM_Y = Math.round(H * 0.72);
  var img = new Image();
  img.onload = render;
  img.onerror = render;
  function getBgUrl(el) {
    var bg = window.getComputedStyle(el).backgroundImage || "";
    var m = bg.match(/url\(["']?(.*?)["']?\)/i);
    return m && m[1] ? m[1] : "";
  }
  function setImage(src, revokeObjectUrl) {
    var resolved = function () {
      try {
        return new URL(src, window.location.href).href;
      } catch (_unused) {
        return src;
      }
    }();
    var im = new Image();
    im.decoding = "async";
    im.onload = function () {
      img = im;
      render();
      if (revokeObjectUrl) {
        try {
          URL.revokeObjectURL(src);
        } catch (_) {}
      }
    };
    im.onerror = function () {
      console.warn("[meme] image failed:", resolved);
      render();
    };
    im.src = resolved;
  }
  presetItems.forEach(function (el) {
    var activate = function activate(e) {
      e.preventDefault();
      var url = getBgUrl(el);
      if (!url) {
        console.warn("[meme] preset has no background-image");
        return;
      }
      setImage(url);
    };
    el.addEventListener("click", activate);
    el.addEventListener("pointerdown", activate);
    el.addEventListener("keydown", function (e) {
      if (e.key === "Enter" || e.key === " ") activate(e);
    });
  });
  if (uploadBtn && fileInput) {
    uploadBtn.addEventListener("click", function () {
      return fileInput.click();
    });
    fileInput.addEventListener("change", function () {
      var file = fileInput.files && fileInput.files[0];
      if (!file) return;
      var objUrl = URL.createObjectURL(file);
      setImage(objUrl, true);
      fileInput.value = "";
    });
  }
  if (textEl) textEl.addEventListener("input", render);
  if (downloadBtn) {
    downloadBtn.addEventListener("click", function () {
      var out = document.createElement("canvas");
      out.width = W;
      out.height = H;
      var octx = out.getContext("2d");
      octx.clearRect(0, 0, W, H);
      drawCover(octx, img, W, H);
      grayscale(octx, W, H);
      drawText(octx, textEl ? textEl.value : "");
      out.toBlob(function (blob) {
        if (!blob) return;
        var a = document.createElement("a");
        a.href = URL.createObjectURL(blob);
        a.download = "meme.png";
        document.body.appendChild(a);
        a.click();
        a.remove();
        setTimeout(function () {
          return URL.revokeObjectURL(a.href);
        }, 500);
      }, "image/png");
    });
  }
  function render() {
    ctx.clearRect(0, 0, W, H);
    drawCover(ctx, img, W, H);
    drawText(ctx, textEl ? textEl.value : "");
  }
  function drawCover(c, image, w, h) {
    c.fillStyle = "#000";
    c.fillRect(0, 0, w, h);
    if (!image || !image.naturalWidth) return;
    var r = Math.max(w / image.width, h / image.height);
    var sw = w / r;
    var sh = h / r;
    var sx = (image.width - sw) / 2;
    var sy = (image.height - sh) / 2;
    c.drawImage(image, sx, sy, sw, sh, 0, 0, w, h);
  }
  function drawText(c, text) {
    var t = (text || "").trim();
    if (!t) return;
    c.font = FONT;
    c.textBaseline = "top";
    c.lineJoin = "round";
    c.textAlign = "center";
    var lines = wrap(c, t, MAX_W);
    var top = lines.slice(0, 2);
    var bottom = lines.slice(2, 4);
    c.lineWidth = 10;
    c.strokeStyle = "#000";
    c.fillStyle = "#fff";
    var centerX = W / 2;
    top.forEach(function (l, i) {
      var y = TOP_Y + i * 72;
      c.strokeText(l, centerX, y);
      c.fillText(l, centerX, y);
    });
    bottom.forEach(function (l, i) {
      var y = BOTTOM_Y + i * 72;
      c.strokeText(l, centerX, y);
      c.fillText(l, centerX, y);
    });
  }
  function wrap(c, text, maxW) {
    var words = text.split(/\s+/).filter(Boolean);
    var lines = [];
    var line = "";
    for (var i = 0; i < words.length; i++) {
      var test = line ? line + " " + words[i] : words[i];
      if (c.measureText(test).width <= maxW) {
        line = test;
      } else {
        if (line) lines.push(line);
        line = words[i];
      }
    }
    if (line) lines.push(line);
    return lines;
  }
  function grayscale(c, w, h) {
    var d = c.getImageData(0, 0, w, h);
    for (var i = 0; i < d.data.length; i += 4) {
      var g = d.data[i] * 0.2126 + d.data[i + 1] * 0.7152 + d.data[i + 2] * 0.0722;
      d.data[i] = d.data[i + 1] = d.data[i + 2] = g;
    }
    c.putImageData(d, 0, 0);
  }
  if (textEl && !textEl.value) textEl.value = "Введи свой прикольчик";
  if (presetItems[0]) {
    var firstUrl = getBgUrl(presetItems[0]);
    if (firstUrl) {
      setImage(firstUrl);
      requestAnimationFrame(function () {
        return setImage(firstUrl);
      });
    } else {
      render();
    }
  } else {
    render();
  }
});

// рандомный мем уррраааа рандом
document.addEventListener("DOMContentLoaded", function () {
  var box = document.querySelector(".rand-image");
  var btn = document.querySelector(".rand-btn");
  if (!box) return;
  box.style.transition = "opacity 220ms ease";
  box.style.opacity = "1";
  var req = __webpack_require__(903);
  var urls = req.keys().map(function (k) {
    return req(k);
  });
  if (!urls.length) {
    console.warn("[random] Не нашлось rnd-*.webp в src/images/random");
    return;
  }
  var last = -1;
  var busy = false;
  function pickIndex() {
    if (urls.length === 1) return 0;
    var i = Math.floor(Math.random() * urls.length);
    while (i === last) i = Math.floor(Math.random() * urls.length);
    last = i;
    return i;
  }
  function preload(url) {
    return new Promise(function (resolve, reject) {
      var im = new Image();
      im.onload = function () {
        return resolve(url);
      };
      im.onerror = function () {
        return reject(url);
      };
      im.src = url;
    });
  }
  function setRandom() {
    return _setRandom.apply(this, arguments);
  }
  function _setRandom() {
    _setRandom = _asyncToGenerator(/*#__PURE__*/_regenerator().m(function _callee() {
      var url, _t;
      return _regenerator().w(function (_context) {
        while (1) switch (_context.p = _context.n) {
          case 0:
            if (!busy) {
              _context.n = 1;
              break;
            }
            return _context.a(2);
          case 1:
            busy = true;
            url = urls[pickIndex()];
            _context.p = 2;
            _context.n = 3;
            return preload(url);
          case 3:
            box.style.opacity = "0";
            setTimeout(function () {
              box.style.backgroundImage = "url(\"".concat(url, "\")");
              box.style.opacity = "1";
              busy = false;
            }, 230);
            _context.n = 5;
            break;
          case 4:
            _context.p = 4;
            _t = _context.v;
            console.warn("[random] preload failed:", url);
            busy = false;
          case 5:
            return _context.a(2);
        }
      }, _callee, null, [[2, 4]]);
    }));
    return _setRandom.apply(this, arguments);
  }
  setRandom();
  if (btn) btn.addEventListener("click", setRandom);
});
})();

/******/ })()
;